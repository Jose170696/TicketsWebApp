@model TicketsWebApp.Models.Tiquetes

@{
    ViewData["Title"] = "Actualizar Tiquete";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="text-center mb-4">
    <h2 class="mt-4"><i class="fas fa-user-edit"></i> Actualizar Tiquete</h2>
</div>

@if (TempData["MensajeExito"] != null)
{
    <div class="alert alert-success text-center">@TempData["MensajeExito"]</div>
}

<form asp-action="Actualizar" method="post" class="mt-3">
    <input type="hidden" asp-for="ti_identificador" />


        <div class="mb-3">
            <label asp-for="ti_asunto" class="form-label">Asunto</label>
            <input asp-for="ti_asunto" class="form-control" required maxlength="150" />
            <span asp-validation-for="ti_asunto" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="ti_ca_id" class="form-label">Categoría</label>
            <select asp-for="ti_ca_id" class="form-select" required>
                <option value="1" selected="@Model.ti_ca_id == 1" data-content="<span><i class='fas fa-network-wired'></i> Redes</span>">Redes</option>
                <option value="2" selected="@Model.ti_ca_id == 2" data-content="<span><i class='fas fa-cogs'></i> Hardware</span>">Hardware</option>
                <option value="3" selected="@Model.ti_ca_id == 3" data-content="<span><i class='fas fa-laptop'></i> Software</span>">Software</option>
                <option value="4" selected="@Model.ti_ca_id == 4" data-content="<span><i class='fas fa-tools'></i> Soporte Técnico</span>">Soporte Técnico</option>
            </select>
            <span asp-validation-for="ti_ca_id" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="ti_im_id" class="form-label">Importancia</label>
            <select asp-for="ti_im_id" class="form-select" required>
                <option value="1" selected="@Model.ti_im_id == 1" data-content="<span><i class='fas fa-exclamation-triangle'></i> Alta</span>">Alta</option>
                <option value="2" selected="@Model.ti_im_id == 2" data-content="<span><i class='fas fa-exclamation'></i> Media</span>">Media</option>
                <option value="3" selected="@Model.ti_im_id == 3" data-content="<span><i class='fas fa-minus-circle'></i> Baja</span>">Baja</option>
            </select>
            <span asp-validation-for="ti_im_id" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="ti_ur_id" class="form-label">Urgencia</label>
            <select asp-for="ti_ur_id" class="form-select" required>
                <option value="1" selected="@Model.ti_ur_id == 1" data-content="<span><i class='fas fa-flash'></i> Alta</span>">Alta</option>
                <option value="2" selected="@Model.ti_ur_id == 2" data-content="<span><i class='fas fa-bolt'></i> Media</span>">Media</option>
                <option value="3" selected="@Model.ti_ur_id == 3" data-content="<span><i class='fas fa-lightbulb'></i> Baja</span>">Baja</option>
            </select>
            <span asp-validation-for="ti_ur_id" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="ti_estado" class="form-label">Estado</label>
            <select asp-for="ti_estado" class="form-select" required>
                <option value="A" selected="@Model.ti_estado == " A"" data-content="<span><i class='fas fa-check-circle'></i> Activo</span>">Activo</option>
                <option value="I" selected="@Model.ti_estado == " I"" data-content="<span><i class='fas fa-times-circle'></i> Inactivo</span>">Inactivo</option>
            </select>
            <span asp-validation-for="ti_estado" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="ti_solucion" class="form-label">Solución</label>
            <textarea asp-for="ti_solucion" class="form-control" rows="4" required></textarea>
            <span asp-validation-for="ti_solucion" class="text-danger"></span>
        </div>

        <div class="text-center">
            <button type="submit" class="btn btn-success">
                <i class="fas fa-save"></i> Guardar Cambios
            </button>
            <a href="@Url.Action("Dashboard", "Home")" class="btn btn-secondary ms-3">
                <i class="fas fa-arrow-left"></i> Volver
            </a>
        </div>
    </form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        $(document).ready(function () {
            $('.selectpicker').selectpicker();
        });
    </script>
}
